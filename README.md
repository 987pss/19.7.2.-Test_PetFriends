# 19.7.2.-Test_PetFriends
SkillFactory. Задание 19.7.2. Посмотреть документацию к имеющимся API-методам на сайте. Найти методы, которые ещё не реализованы в библиотеке (Задание 19.4.1.), и написать их реализацию в файле api.py. Подумайте над вариантами тест-кейсов и напишите ещё 10 различных тестов для данного REST API-интерфейса.

В дополнение к уже реализованным в рамках задания 19.4.1.(https://github.com/987pss/19.4.1.-Pet_Friends_Test.git) методам в файл api.py добавил методы:
- add_new_pet_without_photo (POST, /api/create_pet_simple) - добавление нового питомца без фото;
- add_photo_of_pet (POST, /api/pets/set_photo/{pet_id}) - добавление фото к добавленному питомцу.

В файл test_petfriends.py добавил 2 позитивных теста для добавленных методов:
- test_add_new_pet_without_photo_valid_auth_key_valid_data - добавление нового питомца без фото с верными ключом API и данными;
- test_add_photo_of_pet_without_photo_valid_auth_key_valid_data - добавление фото к добавленному питомцу без фото с верным ключом API и фото в допустимом формате.

В файл test_petfriends.py добавил 11 негативных теста для проверки описанных в документации (https://petfriends.skillfactory.ru/apidocs/#/) ошибок:
- test_get_api_key_empty_password - получение ключа API при верном e-mail, но пустом пароле;
- test_add_new_pet_without_photo_empty_auth_key - добавление нового питомца без фото при пустом ключе API;
- test_add_new_pet_without_photo_age_is_letter - добавление нового питомца без фото при верном ключе API, допустимых имене и типе, но возрасте, указанном буквой;
- test_add_new_pet_with_photo_invalid_auth_key - добавление нового питомца c фото при неверном ключе API, состоящем из 1 символа;
- test_add_new_pet_with_photo_invalid_format_of_pet_photo - добавление нового питомца c фото при верном ключе API, допустимых имене, типе и возрасте, но фото в недопустимом формате .gif;
- test_get_list_of_pets_invalid_auth_key - получение списка добавленных питомцев при неверном ключе API, состоящем из допустимых 56 символов;
- test_update_pet_with_photo_invalid_auth_key - обновление информации о добавленном питомце с фото при неверном ключе API, состоящем из 55 символов;
- test_update_pet_with_photo_empty_animal_type - обновление информации о добавленном питомце с фото при верном ключе API, допустимых имене и возрасте, но пустом типе;
- test_add_photo_of_pet_without_photo_invalid_auth_key - добавление фото добавленному питомцу без фото при неверном ключе API, состоящем из 57 символов;
- test_add_photo_of_pet_without_photo_invalid_data - добавление фото добавленному питомцу без фото при верном ключе API, но текстовом файле в формате .txt вместо фото;
- test_delete_pet_with_photo_invalid_auth_key - удаление добавленного питомца с фото при неверном ключе API, состоящем из 1 недопустимого символа.

Для удобства проверки помимо общего файла test_petfriends.py в репозиторий добавил файлы test_positive_petfriends.py (только 7 позитивных тестов: по одному для каждого из методов), test_negative_petfriends.py (11 негативных тестов для каждого из методов) и test_scenario_positive_petfriends.py (тест по небольшому позитивному сценарию POST - PUT - DELETE: добавление нового питомца с фото, обновление информации о добавленном питомце с фото, удаление добавленного питомца с фото).

В директорию /images добавил фото в формате .gif и текстовый файл в формате .txt необходимые для негативных тестов.

В файл settings.py добавил данные для негативного тестирования.

В ходе запуска негативных тестов обнаружились несоответствия, требующие уточнений:
- При добавлении нового питомца без фото и указании возраста буквой (а не цифрой) вместо ошибки с кодом 400 происходит добавление питомца с возрастом, указанным буквой (код 200);
- При добавлении нового питомца с фото и фото в недопустимом документацией формате .gif вместо ошибки с кодом 400 происходит добавление питомца, но без фото (код 200);
- При обновлении информации о добавленном питомце и пустом типе вместо ошибки с кодом 400 происходит изменение только указанных данных питомца (код 200);
- При добавлении фото добавленному питомцу без фото и текстовом файле в формате .txt вместо фото вместо ошибки с кодом 400 возваращается ошибка с кодом 500.
